# Rime schema
# encoding: utf-8

# è¯åº“é€‰æ‹©
dicts:
  __patch:
    dictionary: tiger_phrase_wanxiang  # ä¹Ÿå¯ä»¥é€‰æ‹© tiger_phrase_moranï¼Œåˆ™ä½¿ç”¨é­”ç„¶è¯åº“

schema:
  author:
    - Hertz Hwang <hertz@26hz.com.cn>
  dependencies:
    - charset
    - pinyin
    - fast_symbol
    - tiger_spelling_pseudo
    - radical_flypy
    - easy_en
    - japanese
    - tiger_codes
    - tiger_oni
    - tiger_phrases
  description: |
    èµ«å…¹è™å•æ•´å¥
  name: "ğŸ¯å¥Â·å•"
  schema_id: tiger_phrase
  version: "2024-11-16"

__patch:
  - tiger_code.custom:/patch?
  - engine/processors/@next: lua_processor@*hertz.tiger_pin*pin_processor
  - engine/translators/@next: lua_translator@*hertz.tiger_pin*panacea_translator
  - engine/filters/@next: lua_filter@*hertz.tiger_pin*pin_filter
  - engine/filters/@next: simplifier@chinese_english
  - engine/filters/@next: lua_filter@*hertz.tiger_spelling*filter

__include: tiger:/switches_engine_script       # Rimeæ¨¡å—
__include: tiger:/fast_symbol_translator       # å¿«ç¬¦
__include: tiger:/easy_en_translator           # è‹±æ–‡
__include: tiger:/japanese_translator          # æ—¥æ–‡
__include: tiger:/radical_flypy_translator     # éƒ¨ä»¶æ‹†å­—
__include: tiger:/tiger_codes_translator       # å®˜æ–¹è™è¯
__include: tiger:/tiger_oni_translator         # ä¹é‡é¬¼è™
__include: tiger:/tiger_phrase_translator      # èµ«å…¹è™å•æ•´å¥
__include: tiger:/tiger_phrases_translator     # å®˜æ–¹è™è¯æ•´å¥
__include: tiger:/reverse_lookup_translator_xh # å°é¹¤åæŸ¥
__include: tiger:/s2t_filter                   # ç®€ç¹æ»¤é•œ
__include: tiger:/history_filter               # z é”®å†å²
__include: tiger:/emoji_filter                 # Emoji æ»¤é•œ
__include: tiger:/cn_en_filter                 # ä¸­è‹±æ»¤é•œ
__include: tiger:/mars_filter                  # ç«æ˜Ÿæ–‡æ»¤é•œ
__include: tiger:/embeded_cands_filter         # å€™é€‰åµŒå…¥
__include: tiger:/hertz                        # Hertzå®šåˆ¶

speller:
  auto_clear: max_length
  auto_select: true
  max_code_length: 5
  alphabet: ";'zyxwvutsrqponmlkjihgfedcbaUPOI[]/V"
  delimiter: "_'"
  auto_select_pattern: ^;\w+
  algebra:
    __patch:
      #- tiger:/algebra/core?        # æ ¸å¿ƒæ‹¼ç®—
      - tiger:/algebra/phrase      # æ•´å¥æ‹¼ç®—
      - tiger:/algebra/erase       # æ“¦é™¤ç¼–ç 

translator:
  __include: dicts
  prism: tiger_code
  enable_user_dict: false
  enable_charset_filter: false
  enable_encoder: false
  enable_sentence: false
  encode_commit_history: false
  enable_completion: false
  preedit_format:
    # æ‰‹åŠ¨åˆ†è¯æ ‡è®°
    - xform/([a-z]{4})[P']/$1â´/
    - xform/([a-z]{3})[O']/$1Â³/
    - xform/([a-z]{2})[I']/$1Â²/
    - xform/([a-z]{1})[U']/$1Â¹/
    # è‡ªåŠ¨åˆ†è¯æ ‡è®°
    - xform/([a-z]{1,4})[_]/$1â£/
    # å…¶ä½™å¤„ç†
    - xform/([Â¹Â²Â³â´][a-z]+)[_']/$1/
    - xform/([Â¹Â²Â³â´])_/$1/

key_binder:
  import_preset: default
  custom_bindings:
    __append:
      # åœ¨é€™è£æ·»åŠ åªåœ¨æœ¬æ–¹æ¡ˆä¸­ç”Ÿæ•ˆçš„æŒ‰éµç¶å®š
  bindings:
    __patch:
      - :/key_binder/custom_bindings?
      - tiger:/keys/emacs_mode
      - tiger:/keys/tab
      - tiger:/keys/page_up_down
      - tiger:/keys/selector
      - tiger:/keys/options_toggle

__include: tiger:/rec

punctuator:
  #import_preset:
  __include: tiger:/punctuator

# é»˜è®¤å¯ç”¨è¯­è¨€æ¨¡å‹
__include: tiger:/octagram/enable_for_chars
# è‹¥è¦ç¦ç”¨ï¼Œå¯ç›´æ¥æ³¨é‡Šæ‰ä¸Šé¢çš„ __include

tiger_spelling:
  lua:
    switch_key: "Control+c"
    cycle_key: "Shift+Control+C"
schema_name:
  spelling: tiger_spelling_pseudo
  code: tiger_phrase

tiger:
  # ã€Œç½®é ‚ã€åŠŸèƒ½ç›¸é—œè¨­ç½®
  # è¼¸å…¥æ™‚é€šéå¿«æ·éµ Ctrl+t å¯ä»¥å°‡é«˜äº®é¡¯ç¤ºçš„å€™é¸ç½®é ‚ï¼Œè¢«ç½®é ‚çš„å€™é¸ä½ç½®å›ºå®šï¼Œä¸å†åƒèˆ‡èª¿é »
  # å°åŒä¸€è¼¸å…¥ç¢¼æœ€é«˜æ”¯æŒ8å€‹ç½®é ‚è©ï¼Œç•¶å˜—è©¦ç½®é ‚ç¬¬9å€‹è©æ™‚ï¼Œæœ€æ—©è¢«ç½®é ‚çš„è©å°‡æœƒå¤±æ•ˆ
  pin:
    # ã€Œç½®é ‚ã€åŠŸèƒ½é–‹é—œ
    enable: true
    # ç½®é ‚è©æç¤ºç¬¦
    indicator: "ğŸ“Œ"
    # ã€Œè¬éˆè—¥ã€åŠ è©åŠŸèƒ½
    # é€šéè¼¸å…¥ ã€Œç·¨ç¢¼Aã€@ã€Œç·¨ç¢¼Bã€ å¯¦ç¾é€ è©åŠŸèƒ½ï¼Œç·¨ç¢¼Aæ˜¯é€™å€‹æ–°è©çš„æ–°ç·¨ç¢¼ ç·¨ç¢¼Bæ˜¯ç›®å‰å¯ä»¥æ‰“å‡ºè©²è©çš„ç·¨ç¢¼
    # ä¾‹å¦‚ è¼¸å…¥ tnfb ä¸èƒ½å¾—åˆ°ã€Œé ­è…¦é¢¨æš´ã€é€™ä¸€å€™é¸ï¼Œ æ­¤æ™‚æˆ‘å€‘å¯ä»¥è¼¸å…¥ tnfb@tbnkfgbk æŒ‰ä¸‹ç©ºæ ¼ è®“ã€Œé ­è…¦é¢¨æš´ã€å€™é¸ä¸Šå±ï¼Œä¸Šå±çš„è©æœƒè¢«åŠ å…¥ç”¨æˆ¶è©åº«ä¸­ï¼Œä¹‹å¾Œæˆ‘å€‘å¯ä»¥ç”¨ tnfb ä¾†å¾—åˆ°ã€Œé ­è…¦é¢¨æš´ã€é€™ä¸€å€™é¸äº†
    # é€ å‡ºçš„è©èˆ‡ç½®é ‚è©æ˜¯ç­‰åŒçš„
    panacea:
      # åŠ è©ç‹€æ…‹æç¤º
      prompt: "ã€”é€ è¯ã€•"
      # åŠ è©ä¸­ç¶´å¼•å°ç¬¦
      infix: "@"
      # è‡ªç”±åŠ è©æ¨¡å¼é–‹é—œï¼Œé–‹å•“æ­¤æ¨¡å¼å¾Œï¼Œè¼¸å…¥ã€Œç·¨ç¢¼Aã€@ä¸¦ç©ºæ ¼ä¸Šå±å¾Œæœƒé€²å…¥åŠ è©ç‹€æ…‹ï¼Œæ­¤æ™‚å¯ä»¥é€£çºŒåœ°ã€ä¸å—æŸç¸›åœ°è¼¸å…¥ï¼Œå†æ¬¡æŒ‰ä¸‹x@ç©ºæ ¼é€€å‡ºåŠ è©ç‹€æ…‹ï¼ŒæœŸé–“è¼¸å…¥çš„å…§å®¹å°‡æœƒè¢«è¨˜éŒ„çˆ²ã€Œç·¨ç¢¼Aã€çš„æ–°ç½®é ‚è©
      # æ­¤æ¨¡å¼é©åˆé€ ä¸€äº›æ··åˆè©ï¼Œå¦‚ã€ŒA4ç´™ã€ã€ã€ŒKOS-MOSã€ç­‰
      freestyle: true